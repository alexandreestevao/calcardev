<!DOCTYPE HTML>
 
<html>
<head>
    <title>CALCARD</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="/assets/js/angular.min.js"></script>
	<script src="/assets/js/jquery.min.js"></script>
	<script src="/assets/js/popper.min.js"></script>   
    <script src="/js/controllers.js"></script>
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
    <script src="/assets/js/bootstrap.min.js"></script>  
</head>

<body class="container"  ng-app="myApp" ng-controller="clienteController" ng-cloak>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
  <a class="navbar-brand" href="#">CALCARD</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <!-- div class="collapse navbar-collapse" id="collapsibleNavbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>    
    </ul>
  </div> -->  
</nav>

<br/>
<div class="jumbotron">
	<div ng-show="clienteForm.nome.$dirty" ng-messages="clienteForm.nome.$error">
		<div ng-message="required" class="alert alert-danger">
			Por favor, preencha o campo nome!
		</div>
		<div ng-message="minlength" class="alert alert-danger">
			O campo nome deve ter no mínimo 10 caracteres.
		</div>
	</div>
	<div ng-show="clienteForm.cpf.$error.required && clienteForm.cpf.$dirty" class="alert alert-danger">
		Por favor, preencha o campo CPF!
	</div>
	<div ng-show="clienteForm.cpf.$error.pattern" class="alert alert-danger">
		O campo CPF deve ter o formato 000.000.000-00.
	</div>
    <!--Form-->
    <form ng-submit="criarCliente()" name="clienteForm">
      <h4>Cadastrar Cliente</h4>
      <hr>
      <!-- div class="form-group" ng-show="clienteid">
        <label class="control-label col-md-2">ID</label>
        <div class="col-md-4">
            <input type="number" class="form-control" ng-model="cliente.id" placeholder="1,2,3.." />
        </div>
      </div> -->      
  <div class="form-row">
    <div class="form-group col-md-4">
      <label for="nome">Nome</label>
      <input type="text" class="form-control" id="nome" ng-model="cliente.nome" placeholder="Nome" ng-required="true">
    </div>
    <div class="form-group col-md-4">
      <label for="cpf">CPF</label>
      <input type="text" class="form-control" id="cpf" ng-model="cliente.cpf" placeholder="000.000.000-00" ng-required="true"/>
    </div>   
  
     
    <div class="form-group col-md-4">
      <label for="idade">Idade</label>
      <input type="number" class="form-control" id="idade" ng-model="cliente.idade" placeholder="Idade" />
    </div>  
  </div>
  
  <div class="form-row">
    <div class="form-group col-md-4">
      <label for="sexo">Sexo</label>
      <select id="sexo" class="form-control" ng-model="cliente.sexo">
        <option selected>Selecione</option>
        <option value="M">Masculino</option>
        <option value="F">Feminino</option>
      </select>
    </div>
    <div class="form-group col-md-2">
      <label for="estadoCivil">Estado Civil</label>
      <select id="estadoCivil" class="form-control" ng-model="cliente.estadoCivil">
        <option selected>Selecione</option>
        <option value="Casado">Casado</option>
        <option value="Divorciado">Divorciado</option>
        <option value="Solteiro">Solteiro</option>
        <option value="Viuva">Viúva</option>
      </select>
    </div>
    <div class="form-group col-md-2">
      <label for="estado">Estado</label>
      <select id="estado" class="form-control" ng-model="cliente.estado">
        <option selected>Selecione</option>
			<option value="AC">Acre</option>
			<option value="AL">Alagoas</option>
			<option value="AP">Amapá</option>
			<option value="AM">Amazonas</option>
			<option value="BA">Bahia</option>
			<option value="CE">Ceará</option>
			<option value="DF">Distrito Federal</option>
			<option value="ES">Espírito Santo</option>
			<option value="GO">Goiás</option>
			<option value="MA">Maranhão</option>
			<option value="MT">Mato Grosso</option>
			<option value="MS">Mato Grosso do Sul</option>
			<option value="MG">Minas Gerais</option>
			<option value="PA">Pará</option>
			<option value="PB">Paraíba</option>
			<option value="PR">Paraná</option>
			<option value="PE">Pernambuco</option>
			<option value="PI">Piauí</option>
			<option value="RJ">Rio de Janeiro</option>
			<option value="RN">Rio Grande do Norte</option>
			<option value="RS">Rio Grande do Sul</option>
			<option value="RO">Rondônia</option>
			<option value="RR">Roraima</option>
			<option value="SC">Santa Catarina</option>
			<option value="SP">São Paulo</option>
			<option value="SE">Sergipe</option>
			<option value="TO">Tocantins</option>
      </select>
    </div> 
    <div class="form-group col-md-4">
      <label for="dependentes">Dependentes</label>
		<input type="number" class="form-control" id="dependentes" ng-model="cliente.dependentes" placeholder="0" />
    </div>      
  </div>  
  
  <div class="form-row">
    <div class="form-group col-md-2">
      <label for="rendaMensal">Renda Mensal</label>
      <input type="text" class="form-control" id="rendaMensal" ng-model="cliente.rendaMensal" placeholder="2000" ng-required="true" />
    </div>
  </div>
      <div class="col-md-offset-2 col-md-10">
      <input type="submit" value="Cadastrar e Analisar Crédito" class="btn btn-success btn-sm" ng-show="submit" />    
      <input type="button" value="Alterar" ng-click="criarCliente()" class="btn btn-success btn-sm" ng-show="update" />    
      <input type="button" value="Cancelar" ng-click="cancelarAlteracao()" class="btn btn-danger btn-sm" ng-show="cancel" />    
      </div>
    </form>
    <!--End Form-->
</div>    
<input class="form-control" type="text" ng-model="criterioDeBusca" ng-model-options="{updateOn: 'default blur', debounce:{default: 500, blur: 0}}" placeholder="O que você está buscando?"/>
<br/>    
    <!--Users List-->
<div class="jumbotron">   
	 
    <h4>Lista de Clientes</h4>
    <table class="table table-striped">
      <thead>
        <tr>
          <td>ID</td>
          <td>NOME</td>
          <td>IDADE</td>
          <td>SEXO</td>
          <td>ESTADO</td>
          <td>ESTADO CIVIL</td>
          <td>DEPEND.</td>
          <td>RENDA</td>
          <td>RESULTADO</td>
          <td>LIMITE</td>
          <td>AÇÕES</td>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="cliente in clientes | filter:criterioDeBusca ">
          <td>{{cliente.id}}</td>
          <td>{{cliente.nome}}</td>
          <td>{{cliente.idade}}</td>
          <td>{{cliente.sexo}}</td>
          <td>{{cliente.estado}}</td>
          <td>{{cliente.estadoCivil}}</td>
          <td>{{cliente.dependentes}}</td>
          <td>R{{cliente.rendaMensal | currency }}</td>
          <td>{{cliente.resultadoAnalise}}</td>
          <td>{{cliente.limite}}</td>
          <td>
            <button class="btn btn-success btn-sm" ng-click="alterarCliente(cliente)">Alterar</button>
            <button class="btn btn-danger btn-sm" ng-click="excluirCliente(cliente)">Excluir</button>
          </td>
        </tr>
      </tbody> 
    </table>
</div>       
  </body>
</html>